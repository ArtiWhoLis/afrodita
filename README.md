[![Перейти к репозиторию на GitHub](https://img.shields.io/badge/GitHub-afrodita-blue?logo=github)](https://github.com/ArtiWhoLis/afrodita)

# Афродита — CRM для салона красоты

## Описание
Веб-приложение для управления заявками, услугами и расписанием в салоне красоты. Поддержка ролей: пользователь, мастер, администратор.

## Основные возможности
- Регистрация и вход для пользователей, мастеров и админов (3 вкладки на странице входа)
- Пользователь может просматривать свои записи на странице **Мои записи** (`my-requests.html`)
- Мастер видит все заявки на свои услуги в **Панели мастера** (`master.html`)
- Админ управляет мастерами, услугами, назначает услуги мастерам
- Фильтрация и поиск по заявкам
- Выпадающее меню профиля с разными пунктами для разных ролей

## Структура проекта
- `index.html` — главная страница
- `login.html` — вход (3 вкладки: пользователь, мастер, админ)
- `my-requests.html` — заявки пользователя
- `master.html` — панель мастера
- `admin.html` — панель администратора
- `js/` — вся клиентская логика
- `server/server.js` — сервер на Node.js + Express + PostgreSQL

## Роли
- **Пользователь** — видит только свои заявки
- **Мастер** — видит все заявки по назначенным услугам
- **Админ** — управляет всеми сущностями

## Как запустить
1. Установить зависимости: `npm install` (в папке `afrodita`)
2. Запустить сервер: `node server/server.js`
3. Открыть `index.html` в браузере (или настроить сервер для отдачи статики)

## Ограничения бесплатной базы
- PostgreSQL Free: 1 GB storage, 256 MB RAM, 0.1 CPU
- Ориентировочно хватит на тысячи пользователей и десятки тысяч заявок
- Следите за размером базы, если проект активно растёт

## Авторизация
- Для мастеров и админов используется отдельная вкладка входа (логин через `/api/role-login` и `/api/admin/login`)
- Для пользователя — обычный вход (`/api/login`)

## Контакты
- [email@example.com](mailto:email@example.com)

## Функционал
- Просмотр информации о салоне, услугах и контактах
- Онлайн-запись на услуги (выбор услуги, даты, времени, ввод контактов)
- Админ-панель для просмотра, фильтрации и удаления заявок
- Адаптивный дизайн для мобильных устройств

## Установка и запуск
1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/ArtiWhoLis/afrodita.git
   cd afrodita
   ```
2. Установите зависимости:
   ```bash
   npm install
   ```
3. Запустите сервер:
   ```bash
   npm start
   ```
   Сервер будет доступен на http://localhost:3001

## Описание API
Серверная часть реализована на Express и работает с PostgreSQL.

- `GET /api/requests` — получить все заявки
- `POST /api/requests` — добавить заявку (требуются поля: name, phone, service, date, time, comment)
- `DELETE /api/requests/:id` — удалить заявку по id
- `DELETE /api/requests` — удалить все заявки

## Переменные окружения
Для подключения к своей базе PostgreSQL измените параметры в `server/server.js`:
```js
const pool = new Pool({
  user: '...',
  host: '...',
  database: '...',
  password: '...',
  port: 5432,
  ssl: { rejectUnauthorized: false }
});
```

---
© 2025 Салон красоты "Афродита". Все права защищены. 